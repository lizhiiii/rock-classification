# å¿«é€Ÿå¼€å§‹æŒ‡å—

è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„å¿«é€Ÿå¼€å§‹æŒ‡å—ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿè¿è¡Œå²©çŸ³åˆ†ç±»é¡¹ç›®ã€‚

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿè¿è¡Œ

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-username/rock-classification.git
cd rock-classification
```

### 2. ä¸€é”®ç¯å¢ƒè®¾ç½®
```bash
bash scripts/setup.sh
```
æŒ‰ç…§æç¤ºé€‰æ‹©ç¯å¢ƒç®¡ç†æ–¹å¼ï¼ˆæ¨èé€‰æ‹©Condaï¼‰

### 3. æ¿€æ´»ç¯å¢ƒ
```bash
# å¦‚æœä½¿ç”¨Conda
conda activate rock-cls

# å¦‚æœä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate  # Linux/Mac
# æˆ– venv\Scripts\activate  # Windows
```

### 4. å‡†å¤‡æ•°æ®
å°†æ‚¨çš„æ•°æ®æŒ‰ç…§ä»¥ä¸‹ç»“æ„æ”¾åœ¨`data`ç›®å½•ä¸­ï¼š
```
data/
â”œâ”€â”€ train_val/
â”‚   â”œâ”€â”€ train/           # è®­ç»ƒå›¾åƒ
â”‚   â”œâ”€â”€ val/             # éªŒè¯å›¾åƒ
â”‚   â”œâ”€â”€ train_labels.csv # è®­ç»ƒæ ‡ç­¾
â”‚   â””â”€â”€ val_labels.csv   # éªŒè¯æ ‡ç­¾
â””â”€â”€ test/
    â”œâ”€â”€ test_images/     # æµ‹è¯•å›¾åƒ
    â””â”€â”€ test_ids.csv     # æµ‹è¯•ID
```

### 5. ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹
ä¸‹è½½ConvNeXtV2-Largeé¢„è®­ç»ƒæ¨¡å‹åˆ°`checkpoints/`ç›®å½•ï¼š
```bash
mkdir -p checkpoints
# ä¸‹è½½æ¨¡å‹æ–‡ä»¶ï¼ˆçº¦1.7GBï¼‰
wget -O checkpoints/convnextv2_large.fcmae_ft_in22k_in1k_384.bin \
  "https://dl.fbaipublicfiles.com/convnext/convnextv2/im22k/convnextv2_large_22k_384_ema.pt"
```

### 6. å¼€å§‹è®­ç»ƒ
```bash
jupyter notebook main.ipynb
```
åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œæ‰€æœ‰å•å…ƒæ ¼å³å¯å¼€å§‹è®­ç»ƒã€‚

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹è®­ç»ƒå‚æ•°
ç¼–è¾‘`config.py`æ–‡ä»¶ä¸­çš„å‚æ•°ï¼š
```python
BATCH_SIZE = 32    # å¦‚æœGPUå†…å­˜ä¸è¶³ï¼Œå‡å°æ‰¹æ¬¡å¤§å°
NUM_EPOCHS = 30    # å‡å°‘è®­ç»ƒè½®æ•°è¿›è¡Œå¿«é€Ÿæµ‹è¯•
BASE_LR = 1e-4     # è°ƒæ•´å­¦ä¹ ç‡
```

### å¿«é€Ÿæµ‹è¯•è¿è¡Œ
å¦‚æœåªæƒ³å¿«é€Ÿæµ‹è¯•ä»£ç ï¼š
```python
# åœ¨config.pyä¸­è®¾ç½®
DEBUG = True
FAST_DEV_RUN = True
NUM_EPOCHS = 2
```

## ğŸ“Š ç›‘æ§è®­ç»ƒ

### æŸ¥çœ‹è®­ç»ƒæ—¥å¿—
```bash
tail -f logs/train_log.csv
```

### æŸ¥çœ‹GPUä½¿ç”¨æƒ…å†µ
```bash
watch -n 1 nvidia-smi
```

### æŸ¥çœ‹è®­ç»ƒè¿›åº¦
è®­ç»ƒè¿‡ç¨‹ä¼šå®æ—¶æ˜¾ç¤ºï¼š
- å½“å‰epochè¿›åº¦
- è®­ç»ƒå’ŒéªŒè¯æŸå¤±
- éªŒè¯å‡†ç¡®ç‡
- æ··æ·†çŸ©é˜µ

## ğŸ¯ å¸¸è§é—®é¢˜è§£å†³

### CUDAå†…å­˜ä¸è¶³
```python
# å‡å°æ‰¹æ¬¡å¤§å°
BATCH_SIZE = 16  # æˆ–æ›´å°

# ä½¿ç”¨æ¢¯åº¦ç´¯ç§¯
# åœ¨è®­ç»ƒå¾ªç¯ä¸­æ·»åŠ æ¢¯åº¦ç´¯ç§¯é€»è¾‘
```

### è®­ç»ƒé€Ÿåº¦æ…¢
```python
# å‡å°‘workeræ•°é‡
NUM_WORKERS = 4

# ä½¿ç”¨æ›´å°çš„å›¾åƒå°ºå¯¸
IMG_SIZE = 192
```

### æ¨¡å‹ä¸æ”¶æ•›
```python
# é™ä½å­¦ä¹ ç‡
BASE_LR = 1e-5

# å¢åŠ é¢„çƒ­æœŸ
WARM_EPOCHS = 10
```

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

1. **æ•°æ®å‡†å¤‡** â†’ `data/` ç›®å½•
2. **ç¯å¢ƒè®¾ç½®** â†’ `bash scripts/setup.sh`
3. **æ¨¡å‹ä¸‹è½½** â†’ `checkpoints/` ç›®å½•
4. **å¼€å§‹è®­ç»ƒ** â†’ `jupyter notebook main.ipynb`
5. **ç›‘æ§è®­ç»ƒ** â†’ æŸ¥çœ‹æ—¥å¿—å’ŒæŒ‡æ ‡
6. **æ¨¡å‹æ¨ç†** â†’ è¿è¡Œæ¨ç†å•å…ƒæ ¼
7. **æäº¤ç»“æœ** â†’ `outputs/submission.csv`

## ğŸ“ è¾“å‡ºæ–‡ä»¶

è®­ç»ƒå®Œæˆåä¼šç”Ÿæˆï¼š
- `checkpoint/best_parent_*.pth` - æœ€ä½³çˆ¶ç±»åˆ†ç±»æ¨¡å‹
- `checkpoint/best_child_*.pth` - æœ€ä½³å­ç±»åˆ†ç±»æ¨¡å‹
- `logs/train_log.csv` - è®­ç»ƒå†å²è®°å½•
- `outputs/submission.csv` - æµ‹è¯•é›†é¢„æµ‹ç»“æœ

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹è¯¦ç»†çš„`README.md`
2. æ£€æŸ¥`logs/`ç›®å½•ä¸­çš„é”™è¯¯æ—¥å¿—
3. åœ¨GitHubä»“åº“æäº¤Issue
4. è”ç³»é¡¹ç›®ç»´æŠ¤è€…

---

**ç¥æ‚¨è®­ç»ƒé¡ºåˆ©ï¼** ğŸ‰ 